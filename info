
if __name__ == "__main__":
    import os
    import sys

    # Force kill anything on port 8501 (Windows)
    os.system("for /f \"tokens=5\" %a in ('netstat -aon ^| findstr :8501') do taskkill /F /PID %a >nul 2>&1")

    port = 8501
    app_script_path = resolve_path("app.py")
    
    sys.argv = [
        "streamlit", "run", app_script_path,
        "--server.headless=true",
        f"--server.port={port}",
        "--global.developmentMode=false"
    ]

    os.environ["STREAMLIT_CONFIG_FILE"] = resolve_path(".streamlit/config.toml")
    sys.exit(stcli.main())



st.markdown(
    "<h4 style='font-size:18px; color:darkblue;'>Step 1: Enter or Upload Requirements</h4>",
    unsafe_allow_html=True
)



import streamlit as st

st.set_page_config(
    page_title="Flowchart Navigation",
    layout="centered",   # This disables wide mode
    initial_sidebar_state="auto"
)





# main diagram nodes here...

# add legend subgraph
with dot.subgraph(name='cluster_legend') as legend:
    legend.attr(label="Legend", fontsize="20", style="dashed", color="gray")
    legend.attr("node", shape="rectangle", style="filled", fontname="Arial", fontsize="12")
    legend.node("legend_green", "Live Dashboards", fillcolor="lightgreen")
    legend.node("legend_yellow", "Manual Steps / Validation", fillcolor="lightyellow")
    legend.node("legend_blue", "Data Tools / Utilities", fillcolor="lightblue")
    legend.node("legend_gray", "JIRA Controls", fillcolor="lightsteelblue")

# then define your dot.edges([...])